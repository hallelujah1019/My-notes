# JQuery技术学习笔记

## 第一天

### jQuery是什么？
jQuery是一个js库(第三方)；
哪怕不会jq也要会js，js还是重中之重
jq只是提供给了我们封装好的方法，但是js是行走江湖的兵器，没有兵器，行走个屁

### js所暴露出来的问题：

- 1.js的基本事件设置方式具有覆盖的问题。

	- 这个问题主要体现在，如果一个html文件中上下游两个，等待静态资源加载完毕后，
window.onload(function(){});-->入口函数
window.onload(function(){});-->入口函数
如果有两个入口函数，第二个入口函数中的DOM事件会将第一个入口函数中的DOM事件覆盖掉，这就是js的事件覆盖问题。

- 2.DOM的基本操作十分繁琐。
- 3.浏览器的兼容性问题。
- 4.使用js实现动画效果十分麻烦。
- 5.容错性比较差，一行代码出现错误，剩下的代码就不会执行了。

### jq基本语法

- 第一种写法：
$(document).ready(function() {
    // 1.点击按钮btn，显示每个div
    $('input').click(function() {
      $('div').show(1000); //show()是显示div；
    });
    // 2.点击btn_text，给每个div添加文字
    $('text_btn').click(function() {
      $('div').text('我是div');
    });
  });
- 第二中写法：$(function(){})--->入口函数
$(function(){
里面写jQuery的逻辑代码；
});--->入口函数，一般用这种的入口函数比较多。
- show();--->是显示div的方法
- text('添加的内容')--->是需要添加的内容
- $符号就是jq的别名。
jQuery 顶级对象是：$符号是jq中的顶级对象。
如果使用jq获取DOM对象，那么获取的就是jq对象，而且这个jq对象是以伪数组的形式保存的。
我们使用原生js获取的对象节点是DOM节点，DOM节点是js对象；
使用jq方式获取的对象是jq对象。
- 隐式迭代：因为jq的内部中封装了for循环和forEach()的方法，所以在使用jQuery的语法中的html文件中就没有for循环，forEach()循环的语句了。
- 链式编程：当使用同一个jq对象，进行多个操作（注册事件、设置样式）就可以使用链式编程。
- console.dir();--->也是打印的意思
console.log();--->也是打印的意思

	- console.log()会在浏览器控制台打印出想打印的信息
console.dir()可以显示一个对象的所有属性和方法

- js中的对象和属性在jq中能不能使用？--->二者中的属性和方法不能混用
jq对象只能使用jq中的属性和方法
DOM对象只能使用DOM中的属性和方法。
- 如果jq对象想使用DOM中的属性和方法，那么就要将jq对象转成DOM对象
jq对象转成DOM对象的方法：jq对象[索引号];-->第一种方式，中括号中写索引号
                                           jq对象.get(索引号);--->第二种方式，小括号中写索引号
jq对象[索引号];--->这种方式返回值其实就是一个DOM对象。
为什么jq对象[0];这种方式可以将jq对象转成DOM对象呢？因为jq对象是以伪数组的方式存储的，所以这种方式是可以将jq对象转成DOM对象，这个方法的返回值就是一个DOM对象。因为jq对象返回的是一个伪数组，所以可以使用隐式迭代

DOM对象转成jq对象的方法：$(DOMD对象);-------->小括号中写的是一个DOM对象。前提是必须要引入jq文件

### jq文件介绍

- 版本说明：
1.X是最常用的版本，兼容所有现代浏览器（现代浏览器的兼容起点为IE6）
- 2.X与3.X是新版本，不兼容IE6.7.8
- 我们更侧重于使用1.X，京东和淘宝使用的是1.X版本，天猫使用的是非1.X版本
主流网站均使用1.X版本
- 每个版本都有两个文件，.js与.min.js两个文件，分别为未压缩版和压缩版
压缩版：上线使用，因为上线之后用户加载网页会需要流量，所以用体积较小的版本。
未压缩版：工作与学习中使用，内部含有大量注释（英文注释）。
两个版本的功能不会有任何差别。
- .js文件和.min.js的区别是：
网站上线后要使用.min.js文件，---->压缩版本
.js文件适合自己在工作和学习中使用。----->未压缩版本

### jq文件的引入及常见报错

- 引入

	- <script src="./js/jquery-1.12.4.js"></script>

- 常见报错：

	- 1.如果没有进行jq文件的引入，使用jq的功能会出现报错，浏览器会将$符号识别成一个变量，会提示：$ is not defined
	- 2.如果jq文件引入了，但是引入的路径错误了，会报两个错误：第一个错误会提示当前路径没有jq文件（net::ERR_FILE_NOT_FOUND(找不到err_文件)），第二个错误是提示$是一个未定义的变量（$ is not defined）。

### jq的入口函数的使用

- jq与js的入口函数对比

	- 1.两个入口函数的执行顺序不同，先执行jq的入口函数，再执行js的入口函数

		- 执行顺序不同的原因：
1.js入口函数的执行时机是，页面中的静态资源（页面结构，图片、文件）全部加载后再执行js代码。
		- 2.jq入口函数的执行时机是：DOMReady--页面结构加载完毕后就执行jq代码。

### jq获取页面的元素基本语法：  

- 第一种方法：$('CSS选择器');  标签选择器，类选择器，ID选择器，后代选择器，子代选择器，结构伪类选择器。。。。。只要是CSS选择器就可以往里放。
ID选择器别忘加#号   类选择器别忘加 .（点）
- jq中获取元素的属性

	- :first--->选中第一个子元素
	- :last--->选中最后一个子元素
	- :eq();--->括号中的写下标索引，这个索引是从0开始的，有点儿类似于nth-child();
	- :even--->表示的是索引号为偶数的，获取索引值是偶数的元素
	- :odd--->表示的获取索引值是奇数的元素

- js中获取元素的方法

	- 获取当前节点的父元素

		- 获取当前标签的直接父元素：--->获取亲爸爸
$('当前标签css选择器').parent();
		- 获取当前标签的所有的父元素：--->主要包括：父节点 body html
$('当前标签css选择器').parents();
		- 获取当前标签的所有的父元素： -->获取父元素中的指定父元素
$('当前标签css选择器').parents('CSS选择器');

	- 获取当前节点的子节点/元素

		- $(CSS选择器).children();--->获取当前元素（节点）下的直接子元素，但是获取不到间接子元素，children后面的小括号中可以传参也可以不传参，不传参的话就是获取所有的直接子元素，如果写入了CSS选择器就是表示选择指定的直接子元素。
$('CSS选择器').children();类似于CSS中的子代选择器。
		- $(CSS选择器).find('选择器');-->find后面的括号中需要传个CSS选择器，一般也是写CSS选择器，字符串类型。比如：$(CSS选择器).find('span');--->包括了直接子元素和间接子元素；
$(CSS选择器).find();类似于CSS中的后代选择器。

	- 获取兄弟标签/元素

		- $(CSS选择器).siblings();--->获取和当前平级的所有兄弟元素。
		- $(CSS选择器).siblings(CSS选择器);--->获取和当前平级的指定的兄弟元素。
		- $(CSS选择器).nextAll();--->获取当前元素下面的所有兄弟(平级)元素
		- $(CSS选择器).prevAll();--->获取当前元素上面的所有兄弟(平级)元素
		- hasClass('类名');--->返回值是一个true或false，布尔值，判断当前标签上有没有指定的类名。
		- $(CSS选择器).index();--->获取当前标签的索引值。返回值是一个数字，number类型。
		- $(CSS选择器).eq(index);--->获取指定索引的标签（元素），索引从0开始。

	- 获取浏览器高度和文档卷曲高度以及文档高度

		- 获取浏览高度
var window_height = $(window).height();
		- 获取文档卷曲高度
var scroll_height = $(document).scrollTop();
		- 文档高度
var doc_height = $(document).height();

- 通过JQ的方式直接给元素添加样式

	- 方法一：
jq对象.css('属性'，'值')；
	- 方法二：
jq对象.css({属性：值，（注意：这个值应该是带引号的），属性：值});--->以对象的方式设置元素的样式。
例如：
$('li').css({
      background: '#ccc',
      height: 100,
    })

- jq中的排他思想的使用

	- 主要使用了siblings()方法，获取当前元素的兄弟元素。

- jq中通过类的方式操作类样式

	- 给元素添加样式：
方法一：添加一个类名：$('CSS选择器').addClass('类名');-->这里的类名不需要添加.（点）；例如： $('li').addClass('li_class');
方法二：添加多个类名$(CSS选择器).addClass('类名1 类名2 类名3');--->给元素添加多个类名，每个类名之间需要用空格隔开。
例如：$('li').addClass('li_class li_class1 li_class2');
方法三：使用链式编程的思想
$(CSS选择器).addClass('类名').addClass('类名').addClass('类名');
$('li').addClass('li_class').addClass('li_class1').addClass('li_class2');
	- 删除元素的样式：
$('CSS选择器').removeClass('类名');
如果小括号中不写类名的话，那么就是移除元素上所有的样式。
例如：方法一：删除多个类名$('li').removeClass('li_class li_class1 li_class2');
方法二(链式编程思想)：$('li').removeClass('li_class').removeClass('li_class2').removeClass('li_class1');
	- 切换类名：如果有这个类名就移除，如果没有这个类名就添加。
$('CSS选择器').toggleClass('类名');--->这里的类名不需要加.(点)

- jq的动画

	- 1.元素的显示与隐藏

		- hide()--->隐藏			
		- show()--->显示			
		- toggle()--->切换动画效果，如果显示就隐藏，如果隐藏就显示，括号中可以填写动画时间

	- 2.滑动效果

		- 通过改变元素高度的方式控制元素的显示和隐藏

			- slideDown()--->从上往下显示，可以显示元素，通过改变元素的高度来显示元素。
			- slideUp()--->从下往上隐藏，可以隐藏元素，通过改变元素的高度来隐藏元素。
			- slideToggle()--->如果元素显示，那我就隐藏，如果元素隐藏，那就显示

		- 元素的淡入淡出

			- 淡入：fadeIn();--->通过控制元素的透明度来实现显示元素的功能
			- 淡入：fadeOut();--->通过控制元素的透明度来实现显示元素的功能
			- fadeToggle()--->切换淡入淡出
			- fadeTo([参数1]，参数2，[参数3]，[参数4]);手动的控制透明度
参数1：动画的速度类型  （slow慢，normal正常，fast快）或者给定一个时间，1000表示1秒。
参数2：设置元素的透明度，这个参数不能省略，必须设置，取值是0-1之间。
参数3：动画效果。
参数4：动画执行完毕后执行的一个回调函数。

	- 3.自定义动画

		- 语法：jq对象.animate(参数1，[参数2]，[参数3]，[参数4]);
参数1：不可省略CSS的属性和值是必须设置的，但是背景色和文字颜色是不能直接设置的
参数2：可省略，可以设置动画时间 也可以("slow慢","normal正常", or "fast块")
参数3：可省略
参数4：可省略，fn回调函数
注意：animate中不能直接设置背景色和颜色
例如：
$("#go").click(function(){
  $("#block").animate({ 
    width: "90%",--->单纯的数字一般不用加引号儿，当然加上也没有错误。
    height: "100%", 
    fontSize: "10em", 
    borderWidth: 10
  }, 1000 );
});

## 第二天

### 1.动画排队问题：

- 在动画执行之前使用一个方法
stop();--->只要写自定义动画或者动画的时候，都要写上stop();方法
$(this).stop().animate();--->只要是动画，就要在动画前面加上stop()方法。

### 2.jq方式操作标签的属性

- 获取元素的固有属性(class/id。。)

	- 1.获取元素上的固有的属性（class id。。。。）prop()方法不能获取自定义属性
$(CSS属性).prop('属性');--->prop小括号中要填上需要获取属性值的属性名
	- 2.设置元素上的固有属性值 prop()方法也不能设置自定义属性
$('CSS选择器').prop('属性名'，值);--->设置元素的固有属性值。

- 获取元素的自定义属性(date-属性名)

	- 1.自定义属性的获取（自定义属性其实也是用来存储数据的，不能光单纯的理解成设置一一对应关系）
$('CSS选择器').attr('直接写自定义属性名(不加date-)/date-自定义属性名');--->获取标签中的自定义属性值
	- 2.设置自定义属性值
$('CSS选择器').attr('自定义属性名',值);--->设置标签中的自定义属性值，后面的值如果是个变量的话，这个值是不能加引号儿的

### 3.获取标签中的值

- 1.表单控件中的值（有光标的内容）

	- 获取

		- $('CSS选择器').val();

	- 设置

		- $('CSS选择器').val('值');--->如果这个值是字符串类型那么这个值就要使用单引号或者双引号包起来；如果是数字类型，就可以不使用单引号和双引号包起来。
这种设置input框中元素的方法，它的返回值是一个object类型，其实是返回的一个[input]伪数组，因为伪数组也是对象类型，所以typeof的返回值是object。

- 2.普通标签中的值

	- 获取

		- $('CSS选择器').text();--->获取标签中的内容
有点儿想原生js中的innerText属性。
<span>看着路世界真滴大</span>
<p>于是啥子人都有</p>
		- $('CSS选择器').html();--->可以获取标签中的内容，也可以设置内容，可以识别标签
和原生js中的innerHTML属性一样。

	- 设置

		- $('CSS选择器').text('需要设置的内容');--->获取标签中的内容
有点儿想原生js中的innerText属性。这个方法也不识别标签，里面写啥，在页面上输出啥，写标签就输出标签。

- 3.onchange();内容修改事件，当input中的数据进行改变的时候，触发事件
- 变量.toFixed(1-9);--->这个方法是保留几位小数的意思，括号中填写的数字就是要保留多少位的小数。
- 4.jq对象的遍历(主要是遍历jq对象的)

	- 如果需要拿到每个标签中的值，那么就需要遍历，遍历出来的类型是DOM对象。
$('CSS选择器').each();
例如：
jQ对象.each(function(index, item){--->index表示的是下标，item表示的是下标所对应的每一项。
	$(item);--->表示每个节点的内容；
      });--->注意：这里的item是一个DOM对象。

- 5.jq中操作元素

	- 1.创建元素

		- 1.创建元素
$('HTML标签')
例如：$('<span></span>');--->这就是创建了一个span标签
使用jq方法创建的标签，得到的也是一个jq对象。
		- 2.将创建的元素添加到结构中（添加的是子元素）

			- 从后添加  --->$('CSS选择器')append(创建的元素);
将创建的元素添加到父元素的结束位置
			- 从前添加 --->$('CSS选择器').prepend(创建的元素);
将创建的元素添加到父元素的开始位置。

		- 3.给当前元素添加兄弟(平级)元素

			- 在当前标签后面创建标签，创建的兄弟元素
$('CSS选择器').after(创建的元素)
			- 在当前标签前面创建标签，创建的是兄弟元素
$('CSS选择器').before(创建的元素);

	- 2.删除元素

		- 1.$('CSS选择器').remove();--->把当前的元素进行删除，真正的将当前在HTML结构中进行删除。
		- $('CSS选择器').empty();
将当前元素中的内容进行清空，但是当前元素标签还是在的，只是清空内容。
		- $('CSS选择器').html('');--->就是赋值了一个空字符串，不建议用这个方法，虽然也能达到删除元素的功能，但是不建议使用这个方法，至于为什么不用这个方法，我哪知道切~~~（傲娇脸）。。。
		- 验证码：掉接口
时间60秒
防止注水
静态页面上的点击验证码，点击静态验证码之后才能发短信验证码

## 第三天

### 1.jq设置和获取缓存数据

- 1.缓存数据语法：小括号中的属性名可以是自定义属性名或者是固有属性名；
jq对象.data('自定义属性名',值);
例如：$('CSS选择器').data('maage',180);
- 2.获取缓存数据：小括号中的属性名可以是自定义属性名或者是固有属性名；
jq对象.data('属性名');

### 2.jq遍历

- 1.$.each();方法，一般情况用来遍历数组的时候用$.each()方法，这个方法也是可以遍历jq对象的，这个方法更全能一些。
$.each(arry,function(index,item){
    
});--->arry可以直接是数组类型，也可以是$('li')这种类型的伪数组，item是一个DOM对象。
- 2.jq对象.each();--->一般就是用来遍历jq对象。

### 3.jq获取元素大小和位置

- 1.获取元素的大小

	- 获取元素的宽： 
$('CSS选择器').width();
	- 获取元素的高： 
$('CSS选择器').height();
	- 获取元素的宽：
$('CSS选择器').innerWidth();
	- 获取元素的高： 
$('CSS选择器').innerHeight();
	- 获取元素的宽：
$('CSS选择器').outerWidth();
	- 获取元素的高：
$('CSS选择器').outerHeight();
	- 获取元素的宽：
$('CSS选择器').outerWidth(true);
	- 获取元素的高：
$('CSS选择器').outerHeight(true);

- 2.获取元素的位置

	- 1.jq对象.offset();--->得到的是一个对象类型，通过offset()得到的元素位置，位置与父元素无关，获取的是当前元素在整个文档中的位置。
对象里面放的是：
left：值；
top：值；
jq对象.offset().left;--->获取距离页面的左边位置，返回值是一个number类型
jq对象.offset().top;--->获取距离页面的上边位置，返回值是一个number类型
	- 2.$('CSS选择器')position();--->得到的也是一个对象，通过$('CSS选择器')position()获取元素位置的时候，如果当前父元素没有定位，那么获取的定位就是就参照整个文档的定位；如果当前父元素有定位，那么就是当前这个元素在父元素中的定位，这个方法特别像CSS中的子绝父相。
left：距离父容器左边的距离
top：距离父容器头部的距离

- 3.jq对象.scrollTop();--->使用来获取内容区域(元素)滚动出去的距离，返回值是一个number类型，返回的是一个具体的值，这是一个方法，使用的时候需要带上小括号。
如果希望通过代码的方式获取元素滚动出去的距离，那么需要给事件对象注册scroll事件。

### 4.jq注册事件

- 1.scroll事件（滚动事件）
- 2.注册事件的方式：
第一种方式：这种方式给同一个事件源只能注册一个事件
事件源.click(function(){
	
});
- 第二种jq注册事件的方式
$('CSS选择器').on('click',function(){})
- 第三种jq注册多个事件的方式
$('CSS选择器').on({
	click:function(){},
	mouseenter:function(){},
	mouseout:function(){},
})
- JQ中通过事件委托给元素注册事件
（如果页面中的元素结构是动态创建的，那么就一定要使用事件委托来做）

	- $('父节点').on('click','子节点',function(){

});--->第一个参数是事件类型；第二个参数是父节点下的子节点；第三个参数是函数
例如： $('body').on('click', '.text-danger', function() {
             on中的第二个参数可以写类名，也可以写ID值
  });

- 通过one()方法给节点注册事件的时候，事件源只执行一次，只执行一次，就不存在解绑事件了

	- $('CSS选择器').one('事件类型'，function(){

});

### 5.jq解绑事件

- 1.$('CSS选择器').off();

	- 如果off()中不填入任何参数的时候，那就是把对象源中的事件全部都进行了解绑(事件都进行了移除)。
	- $('CSS选择器').off('事件名称');--->解绑指定的事件
	- 解绑委托事件

		- $('父事件源').off('事件类型','子选择器');--->解绑委托事件。

### 6.jq自动触发事件

- 1.语法：
第一种方式：其实就是方法的调用类型，把事件类型当成一个方法名来调用了。
$('CSS选择器').click();
- 第二种方式：trigger怎么读？捶哥儿。。
$('CSS选择器').trigger('事件类型');
例如：
$('div').click(function(){
   alert(1);
})--->给div注册一个点击事件
使用trigger()方式自动调用事件
$('div').trigger('click');--->等页面加载的时候，就会自动调用相应的事件。

### 7.事件对象参数
（事件对象是页面客观存在的事实）
事件存在三个阶段：
事件捕获阶段
事件目标阶段
事件冒泡儿阶段

- event，那么什么是事件对象参数呢？
当我们在执行某个事件的时候，会将用户的一些行为/动作数据保存起来，那么这些数据就保存到了事件对象参数中。
- 阻止冒泡儿
e.stopPropagation();

### 8.jq的对象的拷贝

- 语法:
$.extend([deep],targetObject,currentObject);
参数1：布尔值，true/false，默认值是false，该参数用来设定拷贝对象的时候，是深拷贝还是浅拷贝，这个参数可写可不写。
默认值false代表的是浅拷贝，true代表的是深拷贝。
参数2：用来接收拷贝的对象
参数3：需要被拷贝的对象
- 不管是浅拷贝还是深拷贝，如果原来对象中有一个和被拷贝对象中相同的属性，会被覆盖掉。
- 不管是浅拷贝还是深拷贝，如果原来对象中不存在与被拷贝对象相同的属性，不会被覆盖掉
- 浅拷贝

	- 拷贝过程中如果遇到了简单数据类型，是被拷贝对象中的简单数据类型直接复制了一份给到目标对象。
	- 如果拷贝过程中遇到了对象类型，是把原来对象的地址复制了一份给到了目标对象。

- 深拷贝

	- 如果拷贝过程中遇到了对象类型，深拷贝是直接将这个对象复制了一份给到了目标对象，而并不是将地址给到目标地址。
	- 如果拷贝过程中遇到了简单数据类型时，和浅拷贝一样，是将简单数据类型复制一份给到目标对象。

### 9.多库共存（其实是一种与$符号冲突的解决方案）

- 目的：
为了避免其他js文件中的命名和jq中的$命名冲突
- 解决方案：
将$符号用jQuery替换
例如：自己定义了一个名字叫$的函数，但是这个函数名儿有点儿特殊，名字和jq的顶级对象的名字$符发生了冲突，后面如果使用$符号($('div'))获取元素的时候就发现元素获取不到了，我们要解决这个问题，那就将这里的$符号更改为jQuery('div');
function $(){
     alert(1);
}
console.log(jQuery('div'));
- 第二种解决方案：自定义名称
var getelment = $.noConflict();
getelment.('div');
这里使用getelment的作用和$符是一样的，getelment这个名字是自己随便取的。
- trim()方法是去除字符串两端的空白符。

*XMind: ZEN - Trial Version*